<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.js"></script>

    <!-- TurfJs -->
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>



    <!-- GeoDecoder -->
    <script
        src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.css"
        type="text/css">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script>

        const data = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.864564,
                    41.689329
                ],
                "type": "Point"
            },
            "id": "014ba1cd39d5491f8342ad586f7acfaf"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.474261,
                    40.243138
                ],
                "type": "Point"
            },
            "id": "04bef3e38bf4312add1161bdfb6184b8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.667451,
                    39.498807
                ],
                "type": "Point"
            },
            "id": "04e6a30cd2255ddfffbd42141939374f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    25.303203,
                    35.161448
                ],
                "type": "Point"
            },
            "id": "05763d0af6be2ab96fe62cf42fccaa88"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.381762,
                    38.924334
                ],
                "type": "Point"
            },
            "id": "05f67e96de0e383b5df3e7cb2a9146ab"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.650268,
                    37.513715
                ],
                "type": "Point"
            },
            "id": "0612f6bc70d1400ca8291410d54a859f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.945411,
                    38.811425
                ],
                "type": "Point"
            },
            "id": "0623efc0a4348172449f36a84f216663"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.616852,
                    38.295515
                ],
                "type": "Point"
            },
            "id": "07f2410d4c7ad55b2ea9f6e53b0d82ee"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.482591,
                    41.197004
                ],
                "type": "Point"
            },
            "id": "091e88744e54ca59def92ae0e563c36b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.561142,
                    39.034972
                ],
                "type": "Point"
            },
            "id": "092a05e4468be76bf8e810a1c74cce1a"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.198545,
                    39.342522
                ],
                "type": "Point"
            },
            "id": "0dd520db275b54b7303a8106fe8eb6af"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.400747,
                    38.976483
                ],
                "type": "Point"
            },
            "id": "0de9521f92568a510153b7aa0e6610f5"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.13763,
                    38.15345
                ],
                "type": "Point"
            },
            "id": "117499afece571ca67a1117bae14f30f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.89992,
                    41.699547
                ],
                "type": "Point"
            },
            "id": "155217db79495297dd4623c002840f47"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.950107,
                    39.776591
                ],
                "type": "Point"
            },
            "id": "1646d1aa25403ef43230c1ed2d1eb8f3"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.411525,
                    39.403966
                ],
                "type": "Point"
            },
            "id": "16edabc6c13fa48df7424db9ed9c0f2d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.464498,
                    40.25059
                ],
                "type": "Point"
            },
            "id": "19b167ab7639a0d3013d71f1c4718824"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.558996,
                    41.500021
                ],
                "type": "Point"
            },
            "id": "1a50b8a6ba46a27bd022e1d414b2d6a8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.592627,
                    40.00336
                ],
                "type": "Point"
            },
            "id": "1c0cf791f91ed0e2fb89ce0861690f6e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    19.875999,
                    40.809777
                ],
                "type": "Point"
            },
            "id": "1c28715b109f0377b640394cbff96c0b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.454998,
                    39.313081
                ],
                "type": "Point"
            },
            "id": "1c87d28984fb86a92686139e1d8cd481"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.897521,
                    38.806094
                ],
                "type": "Point"
            },
            "id": "1cb20e34f3021abc3e21bdc282a7603a"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.381118,
                    40.070407
                ],
                "type": "Point"
            },
            "id": "1f1e4509846e068570fbb21399a4def8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.155714,
                    39.275182
                ],
                "type": "Point"
            },
            "id": "1f39eb62b93ea3b3b2b80b8937039085"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.455225,
                    40.970106
                ],
                "type": "Point"
            },
            "id": "205754a555390291d7f97ae2870d1140"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.457006,
                    40.244981
                ],
                "type": "Point"
            },
            "id": "2191993c35cc15081e0f4850ecc1d1c1"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.773869,
                    39.856916
                ],
                "type": "Point"
            },
            "id": "21a4fc03afd3da7402c47a44ca4c0e5b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.870026,
                    38.465627
                ],
                "type": "Point"
            },
            "id": "22908ca27336a040183854e3e041a03e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.48017,
                    40.234968
                ],
                "type": "Point"
            },
            "id": "22ba7c705741af97fabc638087b589f1"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.106312,
                    41.083653
                ],
                "type": "Point"
            },
            "id": "22f5923cc627354f86fd8b38882516cf"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.472181,
                    38.451466
                ],
                "type": "Point"
            },
            "id": "236dc6ac6f3c3d90a5651e16787c5244"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.180105,
                    40.165787
                ],
                "type": "Point"
            },
            "id": "23b369b7f950e68c828b004f48be1e42"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.265118,
                    39.745469
                ],
                "type": "Point"
            },
            "id": "25f4b32b693e6131c00d412289f0710b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.924277,
                    38.550533
                ],
                "type": "Point"
            },
            "id": "269d881b9679456511f73b4efa289c4b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.568891,
                    37.147041
                ],
                "type": "Point"
            },
            "id": "26c052288967408cb69af250f0114c08"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.414177,
                    41.689329
                ],
                "type": "Point"
            },
            "id": "27ee767e89a21637ba55c50b5c21f753"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.224931,
                    39.349808
                ],
                "type": "Point"
            },
            "id": "28192bfe35442545b14b96b434696f8c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.47047,
                    40.234542
                ],
                "type": "Point"
            },
            "id": "2a33f876c74ce7092f8d230571ad7270"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.847454,
                    35.331288
                ],
                "type": "Point"
            },
            "id": "2dbf7123f7cf93814d66b0ee667ba865"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.582957,
                    40.03833
                ],
                "type": "Point"
            },
            "id": "2dc63ae7634509b81a391196b2362d35"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.462067,
                    41.607535
                ],
                "type": "Point"
            },
            "id": "301386567a3992ee69a3d22d25f30334"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.225911,
                    39.130563
                ],
                "type": "Point"
            },
            "id": "30c04e1df428fdc2a1a4bfe4eabbd327"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.47649,
                    40.241436
                ],
                "type": "Point"
            },
            "id": "3219527e3b263b14ec4e727f79db59a5"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.20266,
                    39.568543
                ],
                "type": "Point"
            },
            "id": "35a145c7a78f9bbe73a37f4bd17e2825"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.883838,
                    38.928609
                ],
                "type": "Point"
            },
            "id": "3719e2f76241a53eea8f953c5ef9b187"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.96757,
                    39.957768
                ],
                "type": "Point"
            },
            "id": "37e6ae1d976f95bafe294048f0f8574c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.131195,
                    39.412176
                ],
                "type": "Point"
            },
            "id": "38128faab701481d65927dc99014c702"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.247584,
                    38.800762
                ],
                "type": "Point"
            },
            "id": "3b7d11d06237c390010acf2f86f425ca"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    24.059906,
                    38.196099
                ],
                "type": "Point"
            },
            "id": "3c61db0dc165bac2e355230919d0f99c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.05158,
                    40.675008
                ],
                "type": "Point"
            },
            "id": "3f4ecd342233daf3b75f8372672dbe3b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.991155,
                    41.428246
                ],
                "type": "Point"
            },
            "id": "3faffa8e7995a398a6c179ab66d1081e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.415325,
                    41.315297
                ],
                "type": "Point"
            },
            "id": "41b3b6b2fdc69e33a24274407eab8b62"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.996848,
                    41.837318
                ],
                "type": "Point"
            },
            "id": "48071cb26d220a2c74ebe85d0abc135d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.162192,
                    40.258622
                ],
                "type": "Point"
            },
            "id": "4a0cde4ecad36e243102635e5095398e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.504264,
                    40.373386
                ],
                "type": "Point"
            },
            "id": "4bd3be8e411a72266e9aad4f31e3bd3d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.080094,
                    41.402593
                ],
                "type": "Point"
            },
            "id": "4cb489b77187c4dd7eab371e82164fe1"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.451346,
                    39.65503
                ],
                "type": "Point"
            },
            "id": "4e084e74743f3a3bd0e358916cabeeb6"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.551006,
                    41.755711
                ],
                "type": "Point"
            },
            "id": "4ed54108c7249283089f2b571d446c0a"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.93422,
                    38.574685
                ],
                "type": "Point"
            },
            "id": "51bb020e6cfb96361b51f8126aa56fbf"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.794038,
                    39.022748
                ],
                "type": "Point"
            },
            "id": "524aa2e225bccc6ba74d6edcde790b54"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.62763,
                    40.110075
                ],
                "type": "Point"
            },
            "id": "55154d5ecc344949ed8ac767c53a8854"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    24.285954,
                    38.472706
                ],
                "type": "Point"
            },
            "id": "55be25ef63e9a054f6a2f32d7ec4ff04"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.102364,
                    37.269465
                ],
                "type": "Point"
            },
            "id": "56c80d00f77a4d47cab1e8f33a8aea04"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.498571,
                    41.340984
                ],
                "type": "Point"
            },
            "id": "5762fd52cbd729942ae6891c27fa2afb"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.223765,
                    41.709762
                ],
                "type": "Point"
            },
            "id": "5791278b4845fcee3a27cca9e406c864"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.627355,
                    39.990521
                ],
                "type": "Point"
            },
            "id": "580b65810a60b50dccca7bc9e96dde9f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.026511,
                    41.68422
                ],
                "type": "Point"
            },
            "id": "582d5c1c9326c8b09cbc8f86f4a463d8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.513434,
                    40.296492
                ],
                "type": "Point"
            },
            "id": "5845a945129eeb6dadbcb27af2f4650c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.807633,
                    38.454412
                ],
                "type": "Point"
            },
            "id": "5ab3858e0487af5da615888357ebfd6a"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.784764,
                    40.519166
                ],
                "type": "Point"
            },
            "id": "5d6397333a7a13aba2bd96095e685061"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.478047,
                    41.617765
                ],
                "type": "Point"
            },
            "id": "5d948c72eb835fab4c9c273972fae961"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.536376,
                    39.480776
                ],
                "type": "Point"
            },
            "id": "624d6cf5d8989330925dce0e6941b74c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.164338,
                    38.875367
                ],
                "type": "Point"
            },
            "id": "641fe3b645d126dbb5284867fa6f352d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    25.737215,
                    35.139269
                ],
                "type": "Point"
            },
            "id": "6c4f041d53b747798f4852cd0b2583f0"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.495654,
                    39.895362
                ],
                "type": "Point"
            },
            "id": "6cb33a195b425f7f0bffcffc9e210aa4"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.690088,
                    38.113736
                ],
                "type": "Point"
            },
            "id": "6fe23e19aed4736f365926e04937d52d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.494819,
                    35.301776
                ],
                "type": "Point"
            },
            "id": "75ae164ff0f95ec485e003531e741d12"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.094926,
                    41.479522
                ],
                "type": "Point"
            },
            "id": "76b54821e78c36f24c026146b350b105"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.979619,
                    39.013712
                ],
                "type": "Point"
            },
            "id": "778ffd6898d3123894aaa9d02f47e9db"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.84919,
                    39.814956
                ],
                "type": "Point"
            },
            "id": "77b43377606e12f27587d7de5ac1f9da"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.22805,
                    38.345172
                ],
                "type": "Point"
            },
            "id": "77cf8faf634eca6876178c2cbb3a26ef"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.03907,
                    38.560546
                ],
                "type": "Point"
            },
            "id": "781367ced2c0b0da29ac7e8ec6f58b9c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.602757,
                    40.001151
                ],
                "type": "Point"
            },
            "id": "78f552f9d583495e5d0799626cac0252"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.716313,
                    38.416052
                ],
                "type": "Point"
            },
            "id": "7ab403dcb50433098d93cea8c38a4f93"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    24.833023,
                    35.235335
                ],
                "type": "Point"
            },
            "id": "7bd09cd8b82a4c51789863a84c1676c1"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.743715,
                    39.153359
                ],
                "type": "Point"
            },
            "id": "7d9623bdb1f27f07406a99e8c085f62c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.136972,
                    39.62238
                ],
                "type": "Point"
            },
            "id": "82796a473167d0f8260553937fbba948"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    25.068113,
                    35.065294
                ],
                "type": "Point"
            },
            "id": "82ea47df1fa65c07d3f7b3bdba34b0f7"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.244289,
                    41.088809
                ],
                "type": "Point"
            },
            "id": "84138350495fdb3f76d89bc7e012c026"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.391705,
                    37.513715
                ],
                "type": "Point"
            },
            "id": "84b010a2183f65a6b0d19e4cf7b151c6"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    25.14949,
                    35.220563
                ],
                "type": "Point"
            },
            "id": "866885bf60a9b8bb3741a39b1e473e95"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.704519,
                    39.65503
                ],
                "type": "Point"
            },
            "id": "88b3e612ee42f7d8e08dcec68bf2e857"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.20781,
                    40.675008
                ],
                "type": "Point"
            },
            "id": "89636dcbc0228b3142d83fb421203420"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.786732,
                    39.44995
                ],
                "type": "Point"
            },
            "id": "8a83f5652cdfe606b5233e001c0a1c56"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.048112,
                    38.014072
                ],
                "type": "Point"
            },
            "id": "8ad4eb1b8b8305c8ef894b3385979871"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.456184,
                    40.240911
                ],
                "type": "Point"
            },
            "id": "8cf305a8462ba32fc0a82ac0c6fb3487"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.409789,
                    37.283854
                ],
                "type": "Point"
            },
            "id": "8e34f87458304f6f686f598ce8e32f04"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.808582,
                    38.784765
                ],
                "type": "Point"
            },
            "id": "90868c2f8320dd557f0417179b8fba53"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.391705,
                    37.942799
                ],
                "type": "Point"
            },
            "id": "90d5a12540771cbec85c1a8f6b24169f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.174699,
                    37.362948
                ],
                "type": "Point"
            },
            "id": "92c815ca87507acd465afbc7e501b2d8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.282301,
                    38.776458
                ],
                "type": "Point"
            },
            "id": "940ce001926c9a691213d97ca54724b4"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    24.082544,
                    35.316533
                ],
                "type": "Point"
            },
            "id": "94d35bbc47680bf01f69251e9a4a6393"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.215355,
                    40.110075
                ],
                "type": "Point"
            },
            "id": "98f7bf008f0851600e50b75ba1565d2d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.441543,
                    41.438505
                ],
                "type": "Point"
            },
            "id": "993b0137d43692fd8d64565db64249e9"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.535475,
                    38.174777
                ],
                "type": "Point"
            },
            "id": "9a43163b80094fe23a9e07826961a4c0"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.49787,
                    40.379536
                ],
                "type": "Point"
            },
            "id": "9f6406b81098f22a9279ae962b9bc3a3"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.237992,
                    37.785757
                ],
                "type": "Point"
            },
            "id": "a1b079d913acc096d5577c84def3508e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.971223,
                    39.943905
                ],
                "type": "Point"
            },
            "id": "a2274a6a19f2ab9d7e1293154524e753"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.487034,
                    39.11464
                ],
                "type": "Point"
            },
            "id": "a2feaf26398d38d774fa93d92abaea5e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.439505,
                    40.423982
                ],
                "type": "Point"
            },
            "id": "a33aa57d0fd40bff071dffcb647a9069"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.77769,
                    39.296177
                ],
                "type": "Point"
            },
            "id": "a77d6592023622a0fbbe24a47057c503"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.393652,
                    40.835663
                ],
                "type": "Point"
            },
            "id": "a78e9d60ee3e5b8975170b5125e97e1e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.818411,
                    39.459837
                ],
                "type": "Point"
            },
            "id": "a81ddf2265d563a9071fa0d15c5d2850"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.961493,
                    41.55124
                ],
                "type": "Point"
            },
            "id": "ad42335a3a15c0e820d1cbcc8d2d9fe3"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.184576,
                    39.819011
                ],
                "type": "Point"
            },
            "id": "ad8acda1e0b84055f1ad80e075c5c74e"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.21452,
                    37.132625
                ],
                "type": "Point"
            },
            "id": "b6dd57e99e920bef3b40bf34595fce46"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.931728,
                    39.294887
                ],
                "type": "Point"
            },
            "id": "b82fbb0d1bb31343c85113405c7104a6"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.805288,
                    39.587045
                ],
                "type": "Point"
            },
            "id": "b8bbe9fcd93ebf46ba4c388b3e7330ec"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.645662,
                    40.617908
                ],
                "type": "Point"
            },
            "id": "b9694711ea0b869cf88f07d8264048c8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.688983,
                    41.274175
                ],
                "type": "Point"
            },
            "id": "bb02a612ee6cf83fa71b84e305b2c0cd"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.193618,
                    39.971628
                ],
                "type": "Point"
            },
            "id": "bbc0076bb15f09aa5a5e555662bebf5d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.580684,
                    38.69182
                ],
                "type": "Point"
            },
            "id": "bce831f9b7b81ca63a444f20d6d0303a"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.929582,
                    41.104277
                ],
                "type": "Point"
            },
            "id": "c2302ce05cc903a58738df6c4bb5360d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.619109,
                    39.872754
                ],
                "type": "Point"
            },
            "id": "c2c57cdd3e3946a0816d50e0bd36e828"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.13937,
                    41.745503
                ],
                "type": "Point"
            },
            "id": "c2d2ea149acd9da6877c4189304c0a05"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    24.516556,
                    35.235335
                ],
                "type": "Point"
            },
            "id": "c473f9c41e305f9d147ec99b8ef09002"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.887385,
                    40.980437
                ],
                "type": "Point"
            },
            "id": "ccb65962d46ac6f6f08aae9a9848c307"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.514639,
                    37.785757
                ],
                "type": "Point"
            },
            "id": "ccf2e632a38e2fec4a3471885618598c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.696313,
                    39.756479
                ],
                "type": "Point"
            },
            "id": "ce4e9295660fa6762a6a0a6c2cbd1702"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.662963,
                    38.941328
                ],
                "type": "Point"
            },
            "id": "cebb51f760fbefde0e5a426677cf3623"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.468532,
                    40.242782
                ],
                "type": "Point"
            },
            "id": "cfe90afd43b5e31ef24a457c7ef16ca7"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.850025,
                    40.06857
                ],
                "type": "Point"
            },
            "id": "d0751f0b077f8e09370e4ed63759ea30"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.18284,
                    38.486863
                ],
                "type": "Point"
            },
            "id": "d110a2e709cfee5fd0d1684024a0aab7"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.056253,
                    38.472706
                ],
                "type": "Point"
            },
            "id": "d31ed6ece686c0903f6c2876ec5302b8"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.916972,
                    40.061651
                ],
                "type": "Point"
            },
            "id": "d3869ef18df750e10861c682fca6e48a"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.506504,
                    40.101591
                ],
                "type": "Point"
            },
            "id": "d4a587416b2737b872a77717988b97f1"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.212228,
                    39.268409
                ],
                "type": "Point"
            },
            "id": "d4ea182d36ba1a4343cbcb2b31e56f62"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.898052,
                    37.792903
                ],
                "type": "Point"
            },
            "id": "d62cb27b91a7da95a13d354ffc6fbd6c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.30359,
                    40.232512
                ],
                "type": "Point"
            },
            "id": "d9bd43c7d50988ba5b843e9b424f298b"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.599669,
                    37.089362
                ],
                "type": "Point"
            },
            "id": "da75a0dd1265b84d3623fa18f86533e6"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.677394,
                    37.878595
                ],
                "type": "Point"
            },
            "id": "dc4a8fea9bd2917bec046f0114cb3022"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.790456,
                    41.310158
                ],
                "type": "Point"
            },
            "id": "dd4413a1f46fab6dcf97853370ec8c74"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.030028,
                    37.792903
                ],
                "type": "Point"
            },
            "id": "ddbbb26e6981ba3bd1f1c0dd586c8384"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    23.60781,
                    38.69182
                ],
                "type": "Point"
            },
            "id": "de8b2ee9c24351a74ebc312a8c04d6bf"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.756249,
                    39.296456
                ],
                "type": "Point"
            },
            "id": "df44d63ebafca8fc67a992a2415c7291"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.52493,
                    40.167837
                ],
                "type": "Point"
            },
            "id": "df4d676c3312cd75dd018d4a7bd365d9"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.026511,
                    41.011419
                ],
                "type": "Point"
            },
            "id": "df7bf070d20d6a9231663b2570a2f899"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.55446,
                    38.687699
                ],
                "type": "Point"
            },
            "id": "e3592423c0f6f615aa784ac0b71e538b"
        },
        {
            "type": "Feature",
            "properties": {
                "message": "Fola",
                "iconSize": "[40,40]"
            },
            "geometry": {
                "coordinates": [
                    22.604829,
                    39.99675
                ],
                "type": "Point"
            },
            "id": "e3aff75e170d7419a9cfd9a36395baf4"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.774375,
                    39.024343
                ],
                "type": "Point"
            },
            "id": "e4f88726fe42b5791e09c19c1aaa0c17"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.875415,
                    39.58945
                ],
                "type": "Point"
            },
            "id": "e867fb3a86313f14b93103b6cffc61f3"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.159353,
                    40.323196
                ],
                "type": "Point"
            },
            "id": "e93ad9630fc3e73824af66db4065373f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.188409,
                    41.479522
                ],
                "type": "Point"
            },
            "id": "eb6d31bb0ac9ccb4525655885b8102ec"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.89068,
                    39.188915
                ],
                "type": "Point"
            },
            "id": "ed38aa17713c46edbf2ac931f7fbbf97"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    20.669187,
                    39.324161
                ],
                "type": "Point"
            },
            "id": "eec83b6b33f7502aa360d689acd6648f"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    19.759695,
                    41.55636
                ],
                "type": "Point"
            },
            "id": "ef2a5be1deef76571c6df1e6c50087c4"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.50925,
                    37.413237
                ],
                "type": "Point"
            },
            "id": "f06731a8027e8a30c73946b66e01ef9d"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.94781,
                    41.274175
                ],
                "type": "Point"
            },
            "id": "f167dfcfdebe5c263444d8181b80064c"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.99296,
                    38.295515
                ],
                "type": "Point"
            },
            "id": "f3c99d5d77d3556feba9d7fd3a014b97"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.31937,
                    39.376014
                ],
                "type": "Point"
            },
            "id": "f3eea7ac3d5a19778855c98f63f92dcb"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    24.570807,
                    35.213176
                ],
                "type": "Point"
            },
            "id": "f61a3e7bf557b115e2147dcefe4be520"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.534924,
                    39.46939
                ],
                "type": "Point"
            },
            "id": "f70f90f8a2f0d6421a60447e6e975e64"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    22.685535,
                    39.721715
                ],
                "type": "Point"
            },
            "id": "f8a5da1ff363c2437aeef32610761fab"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.292179,
                    39.465673
                ],
                "type": "Point"
            },
            "id": "f99253890edb58a3722e0b9dd5a9c531"
        },
        {
            "type": "Feature",
            "properties": {
                "fola": "true"
            },
            "geometry": {
                "coordinates": [
                    21.774375,
                    38.64063
                ],
                "type": "Point"
            },
            "id": "fbece3bde0f96bed792a8c83c9ec2f31"
        }
    ]
}

        mapboxgl.accessToken = 'pk.eyJ1IjoiZXJnaXMxIiwiYSI6ImNrd2NqcGNpdzFqNDMycXAydzN5amU5cngifQ.DL--NY3BJoVgzTZh6kXZ7A';
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [21.86279296875, 38.805470223177466],
            zoom: 6
        });

        const size = 100;

        // This implements `StyleImageInterface`
        // to draw a pulsing dot icon on the map.
        const pulsingDot = {
            width: size,
            height: size,
            data: new Uint8Array(size * size * 4),

            // When the layer is added to the map,
            // get the rendering context for the map canvas.
            onAdd: function () {
                const canvas = document.createElement('canvas');
                canvas.width = this.width;
                canvas.height = this.height;
                this.context = canvas.getContext('2d');
            },


            // Call once before every frame where the icon will be used.
            render: function () {
                const duration = 1000;
                const t = (performance.now() % duration) / duration;

                const radius = (size / 2) * 0.3;
                const outerRadius = (size / 2) * 0.7 * t + radius;
                const context = this.context;

                // Draw the outer circle.
                context.clearRect(0, 0, this.width, this.height);
                context.beginPath();
                context.arc(
                    this.width / 2,
                    this.height / 2,
                    outerRadius,
                    0,
                    Math.PI * 2
                );
                context.fillStyle = `rgba(255, 200, 200, ${1 - t})`;
                context.fill();

                // Draw the inner circle.
                context.beginPath();
                context.arc(
                    this.width / 2,
                    this.height / 2,
                    radius,
                    0,
                    Math.PI * 2
                );
                context.fillStyle = 'rgba(255, 100, 100, 1)';
                context.strokeStyle = 'white';
                context.lineWidth = 2 + 4 * (1 - t);
                context.fill();
                context.stroke();

                // Update this image's data with data from the canvas.
                this.data = context.getImageData(
                    0,
                    0,
                    this.width,
                    this.height
                ).data;

                // Continuously repaint the map, resulting
                // in the smooth animation of the dot.
                map.triggerRepaint();

                // Return `true` to let the map know that the image was updated.
                return true;
            }
        };

        map.on('load', () => {
            map.addImage('pulsing-dot', pulsingDot, { pixelRatio: 2 });

            // function reload() {
            map.addSource('dot-point', {
                'type': 'geojson',
                'data': 'https://api.mapbox.com/datasets/v1/ergis1/ckwdtpr8q14ri22mx3n4czosm/features?access_token=pk.eyJ1IjoiZXJnaXMxIiwiYSI6ImNrd2NqcGNpdzFqNDMycXAydzN5amU5cngifQ.DL--NY3BJoVgzTZh6kXZ7A'
            });
            // }


            window.setInterval(function () {
                map.getSource('dot-point').setData('https://api.mapbox.com/datasets/v1/ergis1/ckwdtpr8q14ri22mx3n4czosm/features?access_token=pk.eyJ1IjoiZXJnaXMxIiwiYSI6ImNrd2NqcGNpdzFqNDMycXAydzN5amU5cngifQ.DL--NY3BJoVgzTZh6kXZ7A');
            }, 15000);



            map.addLayer({
                'id': 'layer-with-pulsing-dot',
                'type': 'symbol',
                'source': 'dot-point',
                'layout': {
                    'icon-image': 'pulsing-dot'
                }
            });


            // New addition 
            map.addLayer({
                id: 'search-radius',
                source: {
                    type: 'geojson',
                    data: { "type": "FeatureCollection", "features": [] }
                },
                type: 'fill',
                paint: {
                    'fill-color': '#000',
                    'fill-opacity': 0.4
                }
            });


        });


        // Add the control to the map.
        map.addControl(
            new MapboxGeocoder({
                accessToken: mapboxgl.accessToken,
                mapboxgl: mapboxgl
            })
        );

        // Add geolocate control to the map.
        // Initialize the GeolocateControl.
        const geolocate = new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true
        });
        // Add the control to the map.
        map.addControl(geolocate);
        // Set an event listener that fires
        // when a geolocate event occurs.
        geolocate.on('geolocate', function (e) {
            // console.log(map.getBounds()._sw);
            // var eventLngLat = [lngLat.lng, lngLat.lat];

            // console.log(eventLngLat)
            var lon = e.coords.longitude;
            var lat = e.coords.latitude
            var position = [lon, lat];
            console.log(position);
            var searchRadius = makeRadius(position, 200);
            var featuresInBuffer = spatialJoin(data, searchRadius);
            if (turf.featureCollection(featuresInBuffer).features[0]) {
                alert("You have a fola near you ")
            }
            // var searchRadius = makeRadius(eventLngLat, 10000);
            // map.getSource('search-radius').setData(searchRadius);
            // var featuresInBuffer = spatialJoin(aliens, searchRadius);
            // map.getSource('alien-truth').setData(turf.featureCollection(featuresInBuffer));


        });


        // // Click event goes here!
        // map.on('click', function (e) {
        //     var eventLngLat = [e.lngLat.lng, e.lngLat.lat];
        //     console.log(eventLngLat)
        //     var searchRadius = makeRadius(eventLngLat, 200);
        //     // map.getSource('search-radius').setData(searchRadius);
        //     var featuresInBuffer = spatialJoin(data, searchRadius);

        //     if (turf.featureCollection(featuresInBuffer).features[0]) {
        //         alert("You have a fola near you ")
        //     }
        // });


        //makeRadius function goes here!
        function makeRadius(lngLatArray, radiusInMeters) {
            var point = turf.point(lngLatArray);
            var buffered = turf.buffer(point, radiusInMeters, { units: 'meters' });
            return buffered;
        }

        function spatialJoin(sourceGeoJSON, filterFeature) {
            // Loop through all the features in the source geojson and return the ones that 
            // are inside the filter feature (buffered radius) and are confirmed landing sites
            var joined = sourceGeoJSON.features.filter(function (feature) {
                return turf.booleanPointInPolygon(feature, filterFeature) && feature.properties.fola === 'true';
            });

            return joined;
        }



        map.addControl(new mapboxgl.FullscreenControl());
    </script>

</body>

</html>
